
CPU 执行的最小单位是线程，所以有但不限以下情况导致 CPU 飙高:
- 由于线程频繁阻塞导致 CPU 上下文的频繁切换，导致大量资源都消耗在内核态与用户态之间的切换上，也就是内存、寄存器、文件描述符等信息的保存与恢复上。常见的线程阻塞原因有文件IO、网络IO阻塞、抢锁等。
- 由于创建的线程数量过多或者线程一直占据 CPU 资源无法释放如死循环。

排查 CPU 占用过高可以参考如下步骤:

1. 首先通过 top 查看各个进程的运行信息，找到 CPU 占用过高的进程的 id 。 

2. 通过如下命令查看指定进程中线程所占 CPU
```s
  $ ps H -eo pid,tid,%cpu | grep 2463
   2463    2463  0.0
   2463    2498  1.9
   2463    2499  0.0
   2463    2504  0.0
   2463    2505  1.9
   2463    2506  0.0
   2463    5866  0.0
```
这样就可以查看哪个线程的 CPU 占用较高了。
