
在 Gin 中，中间件(middleware)是指可以拦截 HTTP 请求-响应生命周期的特殊函数。在请求-响应生命周期中可以注册多个中间件。每个中间件执行不同的功能，一个中间件执行完，才轮到下一个中间件执行。

中间件的常见应用场景如下:
* 请求限速
* API 接口签名处理
* 权限校验
* 统一错误处理

如果想拦截所有请求，则可以通过一个中间件函数来实现。Gin 支持设置全局中间件和针对路由分组的中间件。在设置全局中间件后，会拦截所有请求。通过分组路由设置的中间件，仅对这个分组下的路由起作用。


### 使用中间件

在 Gin 中，用 `Use()` 方法来使用中间件。

使用示例如下:
```go
    func main() {
        r := gin.New()
        // 通过 Use() 方法设置全局中间件
        // 设置日志中间件，主要用于打印请求日志
        r.Use(gin.Logger())
        // 设置 Recovery 中间件，主要用于拦截 panic 错误，不至于导致程序崩掉
        r.Use(gin.Recovery())
        // ...
    }
```

[自定义中间件示例](t/07_middleware.go)
