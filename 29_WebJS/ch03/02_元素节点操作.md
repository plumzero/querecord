
### 创建元素

在 JavaScript 中，可以使用 `createElement()` 来创建一个元素节点，也可以使用 `createTextNode()` 来创建一个文本节点，然后可以将元素节点与文本节点"组装"成为"有文本内容的元素"。

```js
    var para = document.createElement("p");
```
变量 para 现在包含着一个指向刚创建出来的那个 p 元素的引用。不过它还不是任何一棵 DOM 节点树的组成部分，只是游荡在 JavaScript 世界里的一个孤儿。它这种情况称为文档碎片(document fragment)，还无法显示在浏览器的窗口画面里。不过，它已经像任何其他的节点那样有了自己的 DOM 属性。

```js
    var txt = document.createTextNode("Hello world");
```
变量 txt 现在包含指向新创建的那个文本节点的引用。这个节点也是未被插入任何一个文档的节点树下。

示例:
```html
    <script>
        window.onload = function()
        {
            var oDiv = document.getElementById("content");
            var oStrong = document.createElement("strong");
            var oTxt = document.createTextNode("强调内容");

            oStrong.appendChild(oTxt);
            oDiv.appendChild(oStrong);
        }
    </script>
```

创建带属性的元素节点示例:
```html
    <script>
        window.onload = function()
        {
            var oInput = document.createElement("input");
            oInput.id = "submit";
            oInput.type = "button";
            oInput.value = "提交";
        }
    </script>
```

### 插入元素

在 JavaScript 中，可以使用 `appendChild()` 把一个新元素插入到父元素的内部子元素的末尾。
```js
    parent.appendChild(child);
```

示例:
```html
    <script>
        window.onload = function()
        {
            var oBtn = document.getElementById("btn");
            oBtn.onclick = function()
            {
                var oUl = document.getElementById("list");
                var oTxt = document.getElementById("txt");

                // 将文本框的内容转换为"文本节点"
                var textNode = document.createTextNode(oTxt.value);
                
                var oLi = document.createElement("li");
                oLi.appendChild(textNode);
                oUl.appendChild(oLi);
            };
        }
    </script>
```

在 JavaScript 中，可以使用 `insertBefore()` 方法将一个新元素插入到父元素中的某一个子元素之前。
```js
    parentElement.insertBefore(newElement, targetElement);
```
newElement 为想插入的新元素，targetElement 为想把新元素插入到那个之前的目标元素，parentElement 为目标元素的父元素。

示例:
```html
    <script>
        window.onload = function()
        {
            var oBtn = document.getElementById("btn");
            oBtn.onclick = function()
            {
                var oUl = document.getElementById("list");
                var oTxt = document.getElementById("txt");

                // 将文本框的内容转换为"文本节点"
                var textNode = document.createTextNode(oTxt.value);
                
                var oLi = document.createElement("li");
                oLi.appendChild(textNode);
                oUl.insertBefore(oLi, oUl.firstElementChild);
            };
        }
    </script>
```

DOM 本身并未提供 `insertAfter` 方法，这里可以编写一个:
```js
    function insertAfter(newElement, targetElement) {
        var parent = targetElement.parentNode;
        if (parent.lastChild == targetElement) {
            parent.appendChild(newElement);
        } else {
            parent.insertBefore(newElement, targetElement.nextSibling);
        }
    }
```

### 删除元素

在 JavaScript 中，可以使用 `removeChild()` 方法来删除父元素下的某个子元素。
```js
    removeChild(oldChild);
```
`oldChild` 为一个包含要被移除的节点对象。

示例:
```html
    <script>
        window.onload = function()
        {
            var oBtn = document.getElementById("btn");
            oBtn.onclick = function()
            {
                var oUl = document.getElementById("list");
                oUl.removeChild(oUl.lastElementChild);
            }
        }
    </script>
```

### 替换元素

在 JavaScript 中，可以使用 `replaceChild()` 方法来实现替换元素。

```js
    replaceChild(newChild, oldChild);
```
`newChild` 为包含新子节点的对象。如果此参数为 null，则此旧节点会被移除而不会被取代。`oldChild` 为包含旧子结点的对象。如果替换成功，将返回替换的节点，如果替换失败，将返回 null 。

示例:
```html
    <script type="text/javascript">
        window.onload = function()
        {
            var oBtn = document.getElementById("btn");
            oBtn.onclick = function()
            {
                var newP = document.createElement("p");
                var newText = document.createTextNode("替换的文字(替换后)");
                newP.appendChild(newText);
                var para = document.getElementById("id1");
                var replaced = document.body.replaceChild(newP, para);
            }
        }
    </script>
```
