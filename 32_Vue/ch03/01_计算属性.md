
### 计算属性

模板内使用表达式的初衷是用于`简单运算`的。在模板中放入太多的逻辑会让模板过重且难以维护。例如:
```js
    <div id="example">
        {{ message.split('').reverse().join('') }}
    </div>
```
上面的代码中，模板不再是简单的声明式逻辑。对于复杂的逻辑，应当使用 `计算属性`。


#### 基础例子

```html
    <div id="example">
        <p>Original message: "{{ message }}"</p>
        <p>Computed reversed message: "{{ reversedMessage }}"</p>
    </div>
```

```js
    var vm = new Vue({
        el: '#example',
        data: {
            message: 'Hello'
        },
        computed: {
            // 计算属性的 getter
            reversedMessage: function() {
                // `this` 指向 vm 实例
                return this.message.split('').reverse().join('');
            }
        }
    });
```
上述代码声明了一个计算属性 reversedMessage 。vm.reversedMessage 依赖于 vm.message，因此当 vm.message 发生改变时，所有依赖 vm.reversedMessage 的绑定也会更新。

#### 计算属性缓存 vs 方法

```html
    <p>Reversed message: "{{ reversedMessage() }}"</p>
```

```js
    // 在组件中
    methods: {
        reversedMessage: function() {
            return this.message.split('').reverse().join('');
        }
    }
```

我们可以将一个函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的。然而，不同的是`计算属性是基于它们的响应式依赖进行缓存的`。只在相关响应式依赖发生改变时它们才会重新求值。这就意味着只要 message 还没有发生改变，多次访问 reversedMessage 计算属性会立即返回之前的计算结果，而不必再次执行函数。

比如，下面的计算属性将不再更新，因为 Date.now() 不是响应式依赖:
```js
    computed: {
        now: function() {
            return Date.now();
        }
    }
```
相比之下，每当触发重新渲染时，调用方法将总会再次执行函数。


### 计算属性 vs 侦听属性

Vue 提供了一种更通用的方式来观察和响应 Vue 实例上的数据变动: `侦听属性`。当你有一些数据需要随着其它数据变动而变动时，通常更好的做法是使用计算属性而不是命令式的 `watch` 回调。
```html
    <div id="demo">{{ fullName }}</div>
```

```js
    var vm = new Vue({
        el: '#demo',
        data: {
            firstName: 'Foo',
            lastName: 'Bar',
            fullName: 'Foo Bar'
        },
        watch: {
            firstName: function(val) {
                this.fullName = val + ' ' + this.lastName;
            },
            lastName: function(val) {
                this.fullName = this.firstName + ' ' + val;
            }
        }
    });
```
上面代码是命令式且重复的。将它与计算属性的版本进行比较:
```js
    var vm = new Vue({
        el: '#demo',
        data: {
            firstName: 'Foo',
            lastName: 'Bar'
        },
        computed: {
            fullName: function() {
                return this.firstName + ' ' + this.lastName;
            }
        }
    });
```

