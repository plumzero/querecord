
一个 Vue 应用由一个通过 `new Vue` 创建的根 Vue 实例，以及可选的嵌套的、可复用的组件树组成。如:
```sh
    根实例
    └─ TodoList
    ├─ TodoItem
    │  ├─ TodoButtonDelete
    │  └─ TodoButtonEdit
    └─ TodoListFooter
        ├─ TodosButtonClear
        └─ TodoListStatistics
```

创建一个 Vue 实例时，可以传入一个选项对象。在这些选项中可以创建你想要的行为。

### 数据与方法

当一个 Vue 实例被创建时，它将 `data` 对象中的所有 property 加入到 Vue 的响应式系统中。当这些 property 的值发生改变时，视图将会产生"响应"，即匹配更新为新的值。
```js
    var data = { a: 1 };

    var vm = new Vue({
        data: data
    });

    // 获得这个实例上的 property，返回源数据中对应的字段
    vm.a == data.a // true

    // 设置 property 也会影响到原始数据
    vm.a = 2
    data.a // 2

    // 反之亦然
    data.a = 3
    vm.a // 3
```
当这些数据改变时，视图会进行重新渲染。需要注意的是只有当实例被创建时就已经存在于 data 中的 property 才是响应式的。对于之后通过 `.` 操作符添加的并不包括，如:
```js
    vm.b = 'hi';
```
这时对 b 的改动将不会触发任何视图的更新。因此，对于一些在定义时不必立即赋值的 property，可以设置一些初始值:
```js
    data: {
        newTodoText: '',
        visitCount: 0,
        hideCompletedTodos: false,
        todos: [],
        error: null
    }
```

不过在对数据调用 `Object.freeze()` 后，会阻止修改现有的 property，这意味着响应系统无法再追踪变化:
```js
    var obj = {
        foo: 'bar'
    }

    Object.freeze(obj);

    new Vue({
        el: '#app',
        data: obj
    });
```

```html
    <div id="app">
        <p>{{ foo }}</p>
        <!-- 这里的 `foo` 不会更新! -->
        <button v-on:click="foo = 'baz'">Change it</button>
    </div>
```

除了数据 property, Vue 实例还暴露了一些有用的实例 property 与方法。它们都有前缀 `$`，以便与用户定义的 property 区分开来。例如:
```js
    var data = { a: 1 };
    var vm = new Vue({
        el: '#example',
        data: data
    });

    vm.$data === data      // true
    vm.$el === document.getElementById('example')   // true

    // $watch 是一个实例方法
    vm.$watch('a', function(newValue, oldValue) {
        // 这个回调将在 `vm.a` 改变后调用
    })
```

### 实例生命周期钩子

每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做`生命周期钩子`的函数，这给了用户在不同阶段添加自己的代码的机会。

比如 `created` 钩子可以用来在一个实例被创建之后执行代码:
```js
    new Vue({
        data: {
            a: 1
        },
        created: function() {
            // `this` 指向 vm 实例
            console.log('a is: ' + this.a);
        }
    });
    // "a is: 1"
```
也有一些其他的钩子，在实例生命周期的不同阶段被调用，如 `mounted`、`updated` 和 `destroyed`。生命周期钩子的 `this` 上下文指向调用它的 Vue 实例。

注意: 不要在选项 property 或回调上使用箭头函数，因为箭头函数并没有 this 。

![生命周期图示](img/lifecycle.png)
