
除了页面加载之外，有时也会想在其他时刻完成某个任务。例如，鼠标单击(onclick)、表单被修改(onchange)以及容器大小变化(onresize)等。

### 简单样式转换器

```html
    <div id="switcher" class="switcher">
        <h3>Style Switcher</h3>
        <button id="switcher-default">Default</button>
        <button id="switcher-narrow">Narrow Column</button>
        <button id="switcher-large">Large Print</button>
    </div>
```

```css
    body.large .chapter {
        font-size: 1.5em;
    }
    body.narrow .chapter {
        width: 250px;
    }
```

我们希望这条语句在用户单击按钮时执行(而不是加载后执行)。为此，需要引入 `.on()` 方法。通过这个方法，可以指定任何 DOM 事件，并为该事件添加一种行为。
```js
    $(document).ready(function() {
        $('#switcher-large').on('click', function() {
            $('body').addClass('large');
        });
    });
```
多次调用 `.on()` 也没任何问题，即可以按需为同一个事件追加更多的行为。

以类似方式处理其他两个按钮(Default 和 Narrow)，让它们也都执行各自的任务。
```js
    $(document).ready(function() {
        $('#switcher-default').on('click', function() {
            $('body').removeClass('narrow');
            $('body').removeClass('large');
        });
        $('#switcher-narrow').on('click', function() {
            $('body').addClass('narrow');
            $('body').removeClass('large');
        });
        $('#switcher-large').on('click', function() {
            $('body').removeClass('narrow');
            $('body').addClass('large');
        });
    });
```

### 利用事件处理程序的上下文

```css
    .selected {
        font-weight: bold;
    }
```

当触发任何事件处理程序时，关键字`this`引用的都是携带相应行为的 DOM 元素。通过在事件处理程序中使用 `$(this)`，可以为相应的元素创建 jQuery 对象，然后就如同使用 CSS 选择符找到该元素一样对它进行操作。
```js
    $(this).addClass('selected');
```

要从其他按钮中移除这个类，可以利用 jQuery 的隐式迭代特性:
```js
    $('#switcher button').removeClass('selected');
```

```js
    $(document).ready(function() {
        $('#switcher-default')
            .addClass('selected')
            .on('click', function() {
                $('body').removeClass('narrow').removeClass('large');
        });
        $('#switcher-narrow')
            .on('click', function() {
                $('body').removeClass('large').addClass('narrow');
        });
        $('#switcher-large').on('click', function() {
            $('body').removeClass('narrow').addClass('large');
        });
        $('#switcher button').on('click', function() {
            $('#switcher button').removeClass('selected');
            $(this).addClass('selected');
        });
    });
```

### 使用事件上下文进一步减少代码

`.removeClass()` 方法的参数是可选的，即当省略时，该方法会移除元素中所有的类。
```js
    $(document).ready(function() {
        $('#switcher-default')
            .addClass('selected')
            .on('click', function() {
                $('body').removeClass();
        });
        $('#switcher-narrow').on('click', function() {
            $('body').removeClass().addClass('narrow');
        });
        $('#switcher-large').on('click', function() {
            $('body').removeClass().addClass('large');
        });
        $('#switcher button').on('click', function() {
            $('#switcher button').removeClass('selected');
            $(this).addClass('selected');
        });
    });
```

再合并:
```js
    $(document).ready(function() {
        $('#switcher button').on('click', function() {
            $('body').removeClass();
            $('#switcher button').removeClass('selected');
            $(this).addClass('selected');
        });
        $('#switcher-default').addClass('selected');
        $('#switcher-narrow').on('click', function() {
            $('body').addClass('narrow');
        });
        $('#switcher-large').on('click', function() {
            $('body').addClass('large');
        });
    });
```
注意，这里必须把通用的处理程序转移到特殊的处理程序上方，因为 `.removeClass()` 需要先于 `.addClass()` 执行。

最后，可以通过再次利用<strong>事件的执行上下文</strong>来完全消除特殊的处理程序。因为上下文关键字 `this` 引用的是 DOM 元素，而不是 jQuery 对象，所以可以使用原生的 DOM 属性来确定被单击元素的ID。
```js
    $(document).ready(function() {
        $('#switcher-default').addClass('selected');

        $('#switcher button').on('click', function() {
            var bodyClass = this.id.split('-')[1];
            $('body').removeClass().addClass(bodyClass);
            $('#switcher button').removeClass('selected');
            $(this).addClass('selected');
        });
    });
```

### 简写的事件

鉴于为某个事件(例如简单的单击事件)绑定处理程序极为常用，jQuery 提供了一种简化事件操作的方式——简写事件方法。简写事件方法的原理与对应的 `.on()` 调用相同，可以减少一定的代码输入量。

例如，不使用 `.on()` 而使用 `.click()` 可以将前面的样式转换器程序重写:
```js
    $(document).ready(function() {
        $('#switcher-default').addClass('selected');

        $('#switcher button').click(function() {
            var bodyClass = this.id.split('-')[1];
            $('body').removeClass().addClass(bodyClass);
            $('#switcher button').removeClass('selected');
            $(this).addClass('selected');
        });
    });
```
其他 `blur`、`keydown` 和 `scroll` 等标准的 DOM 事件，也存在类似前面这样的简写事件。

### 显示和隐藏高级特性

```css
    .hidden {
        display: none;
    }
```

```js
    $(document).ready(function() {
        $('#switcher h3').click(function() {
            $('#switcher button').toggleClass('hidden');
        });
    });
```