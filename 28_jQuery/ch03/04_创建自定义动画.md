
jQuery 的 `.animate()` 方法，用于创建控制更加精细的自定义动画。这个方法有两种形式，第一种形若接收以下 4 个参数:
* 一个包含样式属性及值的`对象`: 它与 `.css()` 方法中的参数类似。
* 可选的`时长`参数： 既可以是预置的字符串，也可以是毫秒数值。
* 可选的`缓动(easing)`类型
* 可选的`回调函数`

全形式:
```js
    .animate({property1: 'value1', property2: 'value2'},
             duration,
             easing,
             function() {
                 alert('The animation is finished.');
             });
```

双参形式:
```js
    .animate({properties}, {options});
```

实际上，这里的第二个参数是把第一种形式的第 2~4 个参数封装在了另一个对象中，同时又添加了两个选项。考虑到可读性并调整换行之后，调用第二种形式的方法的代码如下:
```js
    .animate({
        property1: 'value1',
        property2: 'value2'
    }, {
        duration: 'value',
        easing: 'value',
        sepcialEasing: {
           property1: 'easing1',
           property2: 'easing2' 
        },
        complete: function() {
            alert('The animation is finished.');
        },
        queue: true,
        step: callback
    });
```

### 手工创建效果

实现与 `.slideToggle()` 相同的效果:
```js
    $(document).ready(function() {
        var $firstPara = $('p').eq(1);
        $firstPara.hide();
        $('a.more').click(function(event) {
            event.preventDefault();
            $firstPara.animate({ height: 'toggle' }, 'slow');
            var $link = $(this);
            if ($link.text() == 'read more') {
                $link.text('read less');
            } else {
                $link.text('read more');
            }
        });
    });
```
通过这个例子可以看出，`.animate()` 方法针对 CSS 属性提供了方便简写值: `show`、`hide` 和 `toggle`。

### 一次给多个属性添加动画效果

使用 `.animate()` 方法可以同时修改多个 CSS 属性。例如，要在切换第二个段落时，创建一个同时具有滑动和淡入淡出效果的动画，只需在 `.animate()` 方法的属性对象参数中添加一个 `height` 属性值-对即可:
```js
    $(document).ready(function() {
        var $firstPara = $('p').eq(1);
        $firstPara.hide();
        $('a.more').click(function(event) {
            event.preventDefault();
            $firstPara.animate({
                opacity: 'toggle',
                height: 'toggle'
            }, 'slow');
            var $link = $(this);
            if ($link.text() == 'read more') {
                $link.text('read less');
            } else {
                $link.text('read more');
            }
        });
    });
```

也可以使用其他 CSS 属性，如: `left`、`top`、`fontSize`、`margin`、`padding` 和 `borderWidth`:
```js
    $(document).ready(function() {
        var $speech = $('div.speech');
        var defaultSize = $speech.css('fontSize');
        $('#switcher button').click(function() {
            var num = parseFloat($speech.css('fontSize'));
            switch(this.id) {
                case 'switcher-large':
                    num *= 1.4;
                    break;
                case 'switcher-small':
                    num /= 1.4;
                    break;
                default:
                    num = parseFloat(defaultSize);
            }
            $speech.animate({fontSize: num + 'px'}, 'slow');
        });
    });
```

将 `<div id="switcher">` 盒子从页面左段移到页面右侧，同时让该盒子高度增加 20 像素，让其边框宽度增加到 5 像素:
```js
    $(document).ready(function() {
        $('div.label').click(function() {
            var paraWidth = $('div.speech p').outerWidth();
            var $switcher = $(this).parent();
            var switcherWidth = $switcher.outerWidth();
            $switcher.animate({
                borderWidth: '5px',
                left: paraWidth - switcherWidth,    // 默认以 px 为单位
                height: '+=20px'
            }, 'slow');
        });
    });
```
这里使用 jQuery 的 `.outWidth()` 方法来计算宽度，包括内边距及边框宽度。

以上代码并未对 left 位置属性作出改变，这还需要通过修改 CSS 来支持对位置属性的修改。

### 通过 CSS 定位

在使用 `.animate()` 方法时，必须明确 CSS 对我们要改变的元素所施加的限制。例如，在元素的 CSS 定位没有设置成 `relative` 或 `absolute` 的情况下，调整 `left` 属性对于匹配的元素毫无作用。所有块级元素默认的 CSS 定位属性都是 `static`，这个值精确地表明: 在改变元素的定位属性之前试图移动它们，它们只会保持静止不动。

打开样式表，你可以像这样为 `<div id="switcher">` 盒子设置相对定位:
```css
    #switcher {
        position: relative;
    }
```

不过这里，使用 JavaScript 来修改这个属性:
```js
    $(document).ready(function() {
        $('div.label').click(function() {
            var paraWidth = $('div.speech p').outerWidth();
            var $switcher = $(this).parent();
            var switcherWidth = $switcher.outerWidth();
            $switcher.css({
                position: 'relative'
            }).animate({
                borderWidth: '5px',
                left: paraWidth - switcherWidth,
                height: '+=20px'
            }, 'slow');
        });
    });
```
