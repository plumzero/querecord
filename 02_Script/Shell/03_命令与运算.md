

### 命令分组

在Shell中有两种命令分组的方法：`()`和`{}`。

前者当 Shell 执行 `()` 中的命令时将再创建一个新的进程，然后这个子进程去执行圆括号中的命令。当用户在执行某个命令时，不想让命令运行时对状态集合的改变影响到下面语句的执行时，就应该把这些命令放在圆括号中，这样就能保证所有的改变只对子进程产生影响，而父进程不受任何干扰。

`{}`用于将顺序执行的命令的输出结果用于另一个命令的输出。

当要真正使用圆括号和花括号时，则需要在其前面加上转义符 \。

`()`使用示例:
```sh
    array=($(seq 1 5))  ## 快速生成数组
```

`{}` 使用示例:
```sh
    touch {1,2,4}.txt    ## 创建 1.txt 2.txt 4.txt 文件
    touch {a..z}.txt     ## 创建 a.txt, b.txt, ..., z.txt 文件
```
备份目录下文件
```sh
    ls | xargs -i mv {} {}.bak  // 操作结果等价于 rename 's/$/\.bak/' *
```


### 命令替换

命令替换指的是用命令的输出来代替该命令。在BASH下，命令替换时优先使用下列语法:
```sh
    $(command)
```

当然，在BASH下，还可以使用下面的语法:
```sh
    `command`
```
示例:
```sh
    nowIn=$(pwd)
    echo $nowIn
    
    ### 进入父目录
    FDIR="$( cd "$( dirname "$pwd" )/.." && pwd )"      ## 也可以写成    FDIR="$(dirname $PWD)"
    cd "$FDIR/"
```


### 算术扩展

shell 计算算术表达式的值，并用该值替换表达式，这就是算术扩展。在BASH下，算术表达式的语法如下:
```sh
    $((expression))
```
可以不用在 expression 中的变量名称前加上美元符号$，但不作强制要求。

示例:
```sh
    s=15 t=79
    echo $((3*s+4*t))

    (( counter++ ))
    counter=$(( counter + 2 ))
```


### 整数运算

一般通过 let 和 expr 这两个命令实现。
```sh
    let "a=$a + 5"
    let "a += 1"
    let "n=n ** 4"      # n的4次幂运算
    a=`expr $a + 5`
```