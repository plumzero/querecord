
### 通配符

|   操作符     | 功能 |
|:-------------|:-------------------|
|    \         | 将下一个字符标记为原义字符，例如 "\$" 表示 "$" |
|    .         | 匹配任何单个字符，例如 "a.b" 可匹配 acb、alb等，注意也可以匹配空格符 |
|    ?         | 之前的字符最多出现一次，例如 "tes?t" 可匹配 test 或 tet |
|    *         | 之前的字符可出现零次或者多次，例如 "0*1234" 可匹配 1234、01234或0001234等 |
|    +         | 之前的字符至少出现一次，例如 "go+gle" 可匹配 gogle、google或goooogle等 |
|    {N}       | 精确匹配N次之前的字符，例如 "o{2}" 可匹配 book、good，但不能匹配 sooop |
|    {N,}      | 至少匹配N次之前的字符，例如 "o{2,}" 可匹配 book、goodd，但不能匹配sop |
|    {N,M}     | 先前的字符至少匹配N次，但是不多于M次 |
|    ^         | 匹配字符串开始的位置 |
|    $         | 匹配字符串结束的位置 |
|    \b        | 匹配字符串边界的位置，例如 "ee\b" 可匹配 bee，但不能匹配 feed |
|    \B        | 匹配字符串，但不得为边界，例如 "ee\b" 可匹配 feed，但不能匹配 bee |
|    x|y       | 匹配字符串x或y，例如 "good|bad" 可匹配 good 或 bad |
|    [xyz]     | 匹配包含的字符x、y或z，例如 "abc" 可匹配 black 中的 a |
|    [^xyz]    | 匹配未包含x、y或z的字符，例如 "^abc" 可匹配 black 中的 b、l、c 或 k |
|    [a-z]     | 匹配字符的范围，由 a~z |
|    [^a-z]    | 不匹配字符的范围，a~z之外的字符，如1或2 |

注：-只在方括号内有效，`*`和`?`只在方括号外有效，否则均视为普通字符


### bash程序的调试

Shell程序的调试主要是利用bash命令解释程序的选择项。调用bash的格式为:
```sh
    bash -选择项 Shell 程序文件名
```
几个常用的选择项如下:

| 选项 | 说明 |
|:-----|:-----|
| -e   | 如果一个命令失败就立即退出 |
| -n   | 测试Shell脚本语法结构，只读取Shell脚本但不执行 |
| -u   | 置换时把未设置的变量看作出错 |
| -v   | 当读入Shell输入行时把它们显示出来 |
| -x   | 执行命令时把命令和它们的参数显示出来 |
| -I   | 交互方式 |
| -k   | 从环境变量中读取命令的参数 |
| -t   | 执行命令后退出 |
        
上面的所有选项也可以在Shell程序内部用`set -选择项`的形式引用，而`set+选择项`则将禁止该选择项起作用。

示例:
```sh
    `set +e`                指令传回值虽不等于0，不退出shell，继续向下执行
    `set -e`                若指令传回值不等于0，则立即退出shell
    `set +u`                当执行时使用到未定义过的变量，不显示错误信息，继续向下执行
    `set -u`                当执行时使用到未定义过的变量，则显示错误信息
    `set -o pipefail`       在管道连接的命令序列中，只要有任何一个命令返回非0值，则整个管道返回非0值，即使最后一个命令返回0
    `set -euo pipefail`     执行大型脚本必须带上这个
```
set 的技巧使用: 如果执行命令不等于 0，不立即退出程序，而是获取错误日志并打印，之后再回置
```sh
    set +e
    my-exe
    if (( $? != 0 )); then
        echo "error occured:"
        cat "$TMP/my.log"
    fi
    set -e
```


### heredoc 写法

用法:
```sh
    cat<<EOF
    >...
    >EOF
```
把输出追加到文件(写法一):
```sh
    cat<<EOF>out.txt
    >...
    >EOF
```
把输出追加到文件(写法二):
```sh
    cat>out.txt<<EOF
    >...
    >EOF
```


### /dev/null 和 /dev/zero

`/dev/null` 又称空设备，它会丢弃一切写入它的数据，但是读取它则会抛出错误。在 shell 中常用它来表示放弃执行的结果（或者错误）。

`/dev/zero` 设备用于提供无限制的空 null 供读取，主要用途是提供字符流来初始化数据存储，也就是使用空字符覆盖目标数据。`/dev/zero` 也支持写入，可以用做数据黑洞。


### 清除字符串前后空白字符
```sh
    echo $(echo "  hello world   ")
```


### 输入输出重定向操作

输入重定向操作
```sh
    cat >file_name              ## cat从标准输入获得数据，然后输出给file_name文件，按Ctrl+D键停止录入
    cat >file_name <testfile    ## cat从testfile获得输入数据，然后输出给文件file_name
```
    
输出重定向操作
```sh
    cmd > file_name 2>&1        ## 把cmd命令的标准输出和标准错误输出均重定向到file_name文件中
```
