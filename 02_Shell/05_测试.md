
用于在 if 语句中测试一种或几种条件。实际上，在大多数的 shell 程序中都会大量使用"test"命令，它的另一种写法是 `[]` 。

### 语法格式

```sh
  test "$LOGNAME" = lb
  [ "$LOGNAME" = lb ]
```
注意: 等号两边、方括号与被判断的条件表达式之间均要留出空格。

示例:
```sh
  [ -d $USELESSDIR ] && rm -rf $SUSELESSDIR
```

### [] 和 [[]]

1. `[[]]` 结构比 `[]` 结构更加通用。这是一个扩展的 test 命令，支持通配符。

2. 在 `[[` 和 `]]` 之间所有的字符都不会发生文件名扩展或者单词分割，但是会发生参数扩展和命令替换。

3. 使用 `[[]]` 条件判断结构，能够防止脚本中的许多逻辑错误，比如，`&&`、`||`、`<`、和`>`这些操作符能够正常存在于 `[[]]` 这个条件判断中，但是如果出现在 `[]` 中，就会报错。

示例:
```sh
  [[ ${str1} == ${str2} ]] && echo "equal"
```


### 测试与操作符

测试字符串操作符

| 操作符               | 返回真(退出状态为0)的条件            |
|:---------------------|:---------------------------------|
|   string1 = string2  | 两字符串完全相同                    |
|   string1 != string2 | 两字符串不同                       |
|   string             | 字符串不为空                       |
|   -n string          | 字符串不为空(并且test能够看到string) |
|   -z string          | 字符串为空(并且test能够看到string)   |

测试整数操作符

| 操作符               | 返回真(退出状态为0)的条件            |
|:---------------------|:--------------------------------|
|    a -eq b           |  a等于b                          |
|    a -ne b           |  a不等于b                        |
|    a -gt b           |  a大于b                          |
|    a -ge b           |  a大于等于b                       |
|    a -lt b           |  a小于b                          |
|    a -le b           |  a小于等于b                       |

测试文件操作符

| 操作符               | 返回真(退出状态为0)的条件            |
|:---------------------|:-------------------------------------|
|    -b file           |  file为特殊块文件                    |
|    -c file           |  file为特殊字符文件                  |
|    -d file           |  为目录名                            |
|    -e file           |  文件存在                            |
|    -f file           |  为普通文件名                        |
|    -h file           |  为链接文件                          |
|    -k file           |  已经设置了sticky位                  |
|    -L file           |  为符号链接文件                      |
|    -p file           |  为命名管道                          |
|    -r file           |  文件可读                            |
|    -S file           |  为套接字                            |
|    -s file           |  文件长度不为0                       |
|    -u file           |  文件的SUID位已经设置                |
|    -w file           |  文件可写                            |
|    -x file           |  文件可执行                          |


测试逻辑操作符

| 操作符               |  含义        | 返回真(退出状态为0)的条件 |
|:---------------------|:-------------|:-------------------------|
|    !exp              |  非          |   表达式exp值为假        |
|    exp1 -a exp2      |  与          |   两表达式均为真         |
|    exp1 -o exp2      |  或          |   至少一个为真           |
|    exp1 && exp2      |  与(短路性质) |   均为真                 |
|    exp1 || exp2      |  或(短路性质) |   至少一个为真           |
