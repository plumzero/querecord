
不同的路由可以匹配到不同的组件，从而实现页面的切换。有些时候，需要将同一类型的路由匹配到同一个组件，通过路由的参数来控制组件的渲染。

在组件内部可以使用 `$route` 属性获取全局的路由对象，

[示例](t/02_dynamic)

在使用带参数的路由时，对应相同组件的路由在进行导航切换时，相同的组件并不会被销毁再创建，这种复用机制使得页面的加载效率很高。但也表明，页面切换时，组件的生命周期方法都不会被再次调用，如果需要通过路由参数来请求数据，之后渲染页面需要特别注意，不能在生命周期方法中进行数据请求逻辑。

修改 App.vue 组件的模板代码如下:
```html
    <template>
        <h1>HelloWorld</h1>
        <p>
            <router-link to="/user/小王/8888">小王</router-link>
            <br>
            <router-link to="/user/小李/6666">小李</router-link>
        </p>
        <router-view></router-view>
    </template>
```

修改 UserAbout.vue 的代码:
```html
    <template>
        <h1>姓名: {{$route.params.username}}</h1>
        <h2>id:{{$route.params.id}}</h2>
    </template>
    <script>
    export default {
        mounted() {
            alert(`组件加载，请求数据。路由参数为 name:${this.$route.params.username} id:${this.$route.params.id}`)
        }
    };
    </script>
```
运行代码，单击页面上的链接进行组件切换时，UserAbout 组件中显示的用户名称和用户编号都会实时地刷新，但是 alert 弹窗只在 UserAbout 组件第一次加载时才会弹出，后续不会再弹出。

对于这种场景，可以采用导航守卫的方式来处理，每次路由参数有更新，都会回调守卫参数。修改 UserAbout.vue 组件代码:
```html
    export default {
        beforeRouteUpdate(to, from) {
            console.log(to, from)
            alert(`组件加载，请求数据。路由参数为 name:${this.$route.params.username} id:${this.$route.params.id}`)
        }
    }
```
再次运行代码，当同一个路由的参数发生变化时，也会有 alert 弹出提示。beforeRouteUpdate 函数在路由将要更新时会调用，其会传入两个参数，`to` 是更新后的路由对象，`from` 是更新前的路由对象。
