
### 对 props 属性进行验证

Vue 在定义组件的 props 时，可以通过添加约束的方式来对其类型、默认值、是否选填等进行配置。

[示例](t/02_props.html)

在外部传递`数值类型`的数据到组件内部时，必须使用 v-bind 指令的方式进行传递，直接使用 HTML 属性设置的方式会将传递的数据作为字符串传递，这种结果是未定义的。

在 Vue 中，可以对定义的 props 进行约束来显式地指定其类型。当将组件的 props 配置项配置为列表时，其表示当前定义的属性没有任何约束限制，如果将其配置为对象，则可以进行更多约束设置:
```js
    props: {
        count: {
            // 定义此属性的类型为数值类型
            type: Number,
            // 设置此属性是否必传
            required: false,
            // 设置默认值
            default: 10
        }
    }
```
在调用此类组件时，如果设置 count 属性的值不符合要求(如设置成了字符串)，则控制台会输出警告信息。

在实际开发中，建议所有的 props 都采用对象的方式定义，显式地设置其类型、默认值等。

如果只需要指定属性的类型，而不需要指定更加的复杂的性质，可以使用如下方式定义:
```js
    props: {
        // 数值类型
        count: Number,
        // 字符串类型
        count2: String,
        // 布尔值类型
        count3: Boolean,
        // 数组类型
        count4: Array,
        // 对象类型
        count5: Object,
        // 函数类型
        count6: Function
    }
```

如果一个属性可能是多种类型，可以如下定义:
```js
    props: {
        // 指定属性类型为字符串或数值
        param: [String, Number]
    }
```

Vue 中 props 的定义也支持进行自定义的验证，假设组件内需要接收的 count 属性的值必须大于数值 10，则可以通过自定义验证函数实现:
```js
    props: {
        count: {
            validator: function(value) {
                if (typeof value != 'number' || value <= 10) {
                    return false
                }
                return true
            }
        }
    }
```
当组件的 count 属性被赋值时，会自动调用验证函数进行验证，如果验证函数返回 true，则表明此赋值是有效的，如果验证函数返回 false，则控制台会输出异常信息。

### props 的只读性质

对组件内部来说，props 是只读的。尝试修改 props 中的值会抛出 Vue 警告信息。

props 的这种只读特性是 Vue 单向数据流特性的一种体现。所有的外部属性 props 都只允许父组件的数据流动到子组件中，子组件的数据则不允许流向父组件。因此，在组件内部修改 props 的值是无效的。

### 组件数据注入

所谓数据注入，是指父组件可以向其所有子组件提供数据，不论在层级结构上此子组件的层级有多深。

[数据注入一般示例](t/02_provide.html)

实现数据注入需要使用组件的 `provide` 和 `inject` 两个配置项，提供数据的父组件需要设置 provide 配置项来提供数据，子组件需要设置 inject 配置项来获取数据。

[数据注入改进示例](t/02_inject.html)
